/*!
 * dragula v3.7.2
 * (c) 2018 Nicolas Bevacqua
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dragula=t():e.dragula=t()}(this,function(){"use strict";function e(e,t){if("function"==typeof e)return e.apply(null,t)}function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e){return"boolean"==typeof e}function o(e,t){return 0<=e.indexOf(t)}function i(e,t,n){var o=e.className.split(" ");t instanceof RegExp?o.push.apply(o,n.filter(function(e){return t.test(e)})):o.push.apply(o,n.filter(Boolean));e.className=o.join(" ")}function r(e,t,n){var o=e.className.split(" ");t instanceof RegExp?e.className=o.filter(function(e){return!t.test(e)}).join(" "):e.className=o.filter(function(e){return 0>t.indexOf(e)}).join(" ")}function a(e,t){return e.children?e.children[t]:e.childNodes[t]}function s(e,t,n){n=n||!1;var o=n?"nextSibling":"previousSibling";do{if(1===e.nodeType&&-1<e.className.indexOf(t))return e;e=e[o]}while(e)}function c(e,t,n){return n=n||window,e instanceof n.Element?e.getAttribute(t):null}function l(e,t,n,o){o=o||window,e instanceof o.Element&&e.setAttribute(t,n)}function u(e,t,n){n=n||window,e instanceof n.Element&&e.removeAttribute(t)}function d(e,t,n,o){var i=new Event(t,{bubbles:!0,cancelable:!0});return i.dragula=!0,i.drake=this,i.item=e,i.clone=t,i.containers=n,this.events.push({element:e,name:o,handler:n}),e.dispatchEvent(i),!i.defaultPrevented}function f(e,t,n,o){function i(i){i.preventDefault(),!~u.indexOf(i.target)&&-1<o.indexOf(i.target)&&(e.call(s,i.target,o),t.call(s,i.target,o))}var r,a,s=this,u=[],d=[].slice.call(n.querySelectorAll(o));return d.forEach(function(e){e.querySelectorAll(".gu-mirror").length||(u.push(e),e.addEventListener("mousedown",i,!1))}),r=function(){d.forEach(function(e){e.removeEventListener("mousedown",i)}),s.dragging=!1},a=function(){d.forEach(function(e){e.removeEventListener("mousedown",i)}),s.dragging=!0},this.on("destroy",r),this.on("cancel",a),this}function h(e,t,n,o){var i,r,a,s=this,u=d.bind(s),f=!1;this.events=[];var h=[].slice.call(e.querySelectorAll(n)).filter(function(e){return o?u(e,o):!0});this.handle=t,this.dragging=!1,this.start=function(t){var n=t.target,i=0;(o||e.contains(n))&&-1<e.children.indexOf(t.target)&&(-1==t.which||1==t.which&&(-1==e.children.indexOf(n)||-1<h.indexOf(n))||(f=!0,i=e.children.indexOf(n),t.preventDefault(),t.stopPropagation()))},this.end=function(t){if(f){var n=a(r,h);n&&u(i,n),"function"==typeof s.cancel&&s.cancel(),t.preventDefault(),t.stopPropagation()}f=!1},this.cancel=function(){f=!1},this.remove=function(){e.removeEventListener("mousedown",i),e.removeEventListener("mouseup",a)},this.events.push({element:e,name:"mousedown",handler:i}),this.events.push({element:e,name:"mouseup",handler:a}),e.addEventListener("mousedown",i,!1),e.addEventListener("mouseup",a,!1),this}function m(e,t){var n,r,a=this,s=e||[];this.drake=t,this.events=[],this.containers=s,this.start=function(e){if(0==e.button||o(t.invalid,e.target)||t.invalidMirror&&o(t.invalidMirror,e.target))
